# Claude Code æ–°é—»çŠ¶æ€æ æ’ä»¶

[![GitHub release](https://img.shields.io/github/release/username/claude-code-news-statusline.svg)](https://github.com/Hillyess/claude-code-news-statusline/releases)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)

ä¸º Claude Code æä¾›å®æ—¶æ–°é—»èšåˆå’ŒçŠ¶æ€æ æ˜¾ç¤ºçš„æ’ä»¶ï¼Œæ”¯æŒå¤šç§æ–°é—»æºã€è´¢ç»èµ„è®¯å’Œå¯ç‚¹å‡»è¶…é“¾æ¥ã€‚

![Demo](docs/demo.gif)

## âœ¨ ç‰¹æ€§

- ğŸš€ **ä¸€é”®å®‰è£…** - å•è¡Œå‘½ä»¤å®Œæˆæ‰€æœ‰é…ç½®
- ğŸ“° **å¤šæºèšåˆ** - 8ä¸ªä¼˜è´¨æ–°é—»æºï¼Œå®æ—¶æ›´æ–°
- ğŸ’¹ **è´¢ç»èµ„è®¯** - ä¸“ä¸šè´¢è”ç¤¾å®æ—¶è¡Œæƒ…æ’­æŠ¥
- ğŸ”— **å¯ç‚¹å‡»é“¾æ¥** - OSC 8 è¶…é“¾æ¥æ”¯æŒï¼Œç‚¹å‡»æ–°é—»ç›´æ¥è·³è½¬
- âš™ï¸ **å¯é…ç½®** - çµæ´»çš„æ–°é—»æºå¼€å…³å’Œä¸ªæ€§åŒ–è®¾ç½®
- ğŸ”„ **æ™ºèƒ½è½®æ’­** - åŸºäºæ—¶é—´çš„æ™ºèƒ½æ–°é—»è½®æ’­
- ğŸ¨ **ç¾è§‚æ˜¾ç¤º** - å½©è‰²å›¾æ ‡å’Œä¼˜é›…çš„çŠ¶æ€æ æ ¼å¼

## ğŸ“Š æ”¯æŒçš„æ–°é—»æº

| æ–°é—»æº | å›¾æ ‡ | ç±»å‹ | æè¿° |
|--------|------|------|------|
| 36kr | ğŸ’¼ | åˆ›æŠ•ç§‘æŠ€ | åˆ›ä¸šæŠ•èµ„å’Œç§‘æŠ€èµ„è®¯ |
| TechCrunch | ğŸš€ | å›½é™…ç§‘æŠ€ | å…¨çƒç§‘æŠ€æ–°é—»å’Œåˆ›ä¸šèµ„è®¯ |
| è™å—… | ğŸ¦† | å•†ä¸šç§‘æŠ€ | æ·±åº¦å•†ä¸šåˆ†æå’Œç§‘æŠ€æŠ¥é“ |
| é’›åª’ä½“ | ğŸ”§ | TMTèµ„è®¯ | ç§‘æŠ€ã€åª’ä½“ã€é€šä¿¡è¡Œä¸šèµ„è®¯ |
| é›·é”‹ç½‘ | âš¡ | AIç§‘æŠ€ | äººå·¥æ™ºèƒ½å’Œæ–°å…´ç§‘æŠ€ |
| è´¢è”ç¤¾ç”µæŠ¥ | ğŸ“ˆ | è´¢ç»å¿«è®¯ | å®æ—¶è´¢ç»èµ„è®¯å’Œå¸‚åœºåŠ¨æ€ |
| è´¢è”ç¤¾ç›˜é¢ | ğŸ’¹ | è‚¡å¸‚ç›´æ’­ | Aè‚¡å®æ—¶è¡Œæƒ…å¼‚åŠ¨æ’­æŠ¥ |
| è´¢è”ç¤¾æ·±åº¦ | ğŸ“Š | æ·±åº¦åˆ†æ | è´¢ç»æ·±åº¦åˆ†æå’Œç ”ç©¶æŠ¥å‘Š |

## ğŸš€ å®‰è£…æ–¹å¼

### æ–¹å¼ä¸€ï¼šä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

```bash
curl -fsSL https://raw.githubusercontent.com/Hillyess/claude-code-news-statusline/main/install.sh | bash
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Hillyess/claude-code-news-statusline.git
cd claude-code-news-statusline

# 2. å®‰è£…ä¾èµ–
pip3 install -r requirements.txt

# 3. è¿è¡Œå®‰è£…è„šæœ¬
./install.sh
```

**å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨ï¼š**
- âœ… æ£€æŸ¥ç³»ç»Ÿä¾èµ–ï¼ˆPython 3 + pip3ï¼‰
- âœ… å®‰è£… Python ä¾èµ–åŒ…
- âœ… å¤åˆ¶æ’ä»¶æ–‡ä»¶åˆ°ç”¨æˆ·ç›®å½•
- âœ… é…ç½® Claude Code é’©å­å’ŒçŠ¶æ€æ 
- âœ… æµ‹è¯•å®‰è£…å®Œæˆåº¦

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **Claude Code CLI** - [ä¸‹è½½å®‰è£…](https://claude.ai/code)
- **Python 3.6+** - ç³»ç»Ÿ Pythonï¼ˆæ— éœ€è™šæ‹Ÿç¯å¢ƒï¼‰
- **pip3** - Python åŒ…ç®¡ç†å™¨
- **git** - ç”¨äºå…‹éš†é¡¹ç›®ï¼ˆä¸€é”®å®‰è£…éœ€è¦ï¼‰

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…æ’ä»¶

é€‰æ‹©ä¸Šé¢ä»»ä¸€å®‰è£…æ–¹å¼

### 2. é‡å¯ Claude Code

å®‰è£…å®Œæˆåï¼Œé‡å¯ Claude Code ä»¥åŠ è½½æ–°é…ç½®ã€‚

### 3. äº«å—å®æ—¶æ–°é—»

æ–°é—»å°†è‡ªåŠ¨åœ¨çŠ¶æ€æ ä¸­æ˜¾ç¤ºï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
```
15:42 ğŸ’¼ ChatGPTï¼šå…³äºAIçš„ä¸€åˆ‡ä½ éœ€è¦çŸ¥é“çš„...
```

ç‚¹å‡»æ–°é—»æ ‡é¢˜å¯ä»¥ç›´æ¥æ‰“å¼€åŸæ–‡é“¾æ¥ï¼

## âš™ï¸ é…ç½®è¯´æ˜

### ç«¯å£é…ç½®

æ’ä»¶é»˜è®¤ä½¿ç”¨ **8765** ç«¯å£è¿è¡Œæ–°é—»æœåŠ¡ã€‚å¦‚æœç«¯å£è¢«å ç”¨æˆ–éœ€è¦è‡ªå®šä¹‰ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š

```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
lsof -i :8765

# è‡ªå®šä¹‰ç«¯å£ï¼ˆä¾‹å¦‚ä½¿ç”¨ 9000 ç«¯å£ï¼‰
export NEWS_SERVICE_PORT=9000
```

**æ³¨æ„ï¼š** ä¿®æ”¹ç«¯å£åéœ€è¦é‡å¯ Claude Code ä»¥ç”Ÿæ•ˆã€‚

### æ–°é—»æºé…ç½®

é…ç½®æ–‡ä»¶ä½ç½®ï¼š`~/.claude/news_sources_config.json`

```json
{
  "sources": {
    "36kr": {
      "enabled": true,
      "name": "36kr",
      "url": "https://36kr.com",
      "icon": "ğŸ’¼"
    },
    "cls_telegraph": {
      "enabled": true,
      "name": "è´¢è”ç¤¾ç”µæŠ¥",
      "url": "https://www.cls.cn/telegraph",
      "icon": "ğŸ“ˆ"
    }
  }
}
```

### Claude Code é…ç½®

é…ç½®æ–‡ä»¶ä½ç½®ï¼š`~/.claude/settings.json`

æ’ä»¶ä¼šè‡ªåŠ¨é…ç½® Claude Code çš„é’©å­å’ŒçŠ¶æ€æ è®¾ç½®ã€‚

## æ•…éšœæ’é™¤

### æœåŠ¡æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8765

# æŸ¥çœ‹æ—¥å¿—
tail -f /tmp/news_service.log

# æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ
ls -la ../venv/bin/python3
```

### çŠ¶æ€æ ä¸æ˜¾ç¤º
```bash
# æ‰‹åŠ¨æµ‹è¯•çŠ¶æ€æ è„šæœ¬
echo '{"workspace":{"current_dir":"/test"}}' | ./status_line.sh

# æ£€æŸ¥APIè¿æ¥
curl -s http://localhost:8765/status

# æ£€æŸ¥é…ç½®
cat ~/.claude/settings.json | jq .statusLine
```

### é‡ç½®é…ç½®
```bash
# æ¢å¤å¤‡ä»½ï¼ˆå¦‚æœæœ‰ï¼‰
cp ~/.claude/settings.json.backup.* ~/.claude/settings.json

# é‡æ–°è¿è¡Œå®‰è£…
./setup.sh

# æ‰‹åŠ¨é‡å¯æœåŠ¡
pkill -f news_service.py
../venv/bin/python3 news_service.py &
```



## åŠŸèƒ½æ€§èƒ½
- **æ–°é—»æŠ“å–**: æ”¯æŒå¤šç«™ç‚¹æ–°é—»ï¼Œ2åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°
- **APIå“åº”**: <100msæœ¬åœ°å“åº”æ—¶é—´
- **è½®æ’­åˆ‡æ¢**: 30ç§’æ™ºèƒ½æ—¶é—´è½®æ’­
- **é”™è¯¯æ¢å¤**: è‡ªåŠ¨é‡è¯•å’Œé™çº§æœºåˆ¶

## å…¼å®¹æ€§

- Python 3.7+
- Claude Code v1.0.81+
